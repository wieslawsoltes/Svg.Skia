<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:svg="clr-namespace:Avalonia.Svg.Skia;assembly=Svg.Controls.Skia.Avalonia"
        xmlns:dgrid="clr-namespace:Avalonia.Controls;assembly=Avalonia.Controls.DataGrid"
        xmlns:local="clr-namespace:HitTestEditorSample"
        x:Class="HitTestEditorSample.MainWindow"
        Width="800" Height="600"
        DragDrop.AllowDrop="True"
        Title="Hit Test Editor Sample">
    <Grid RowDefinitions="Auto,*">
        <Menu Grid.Row="0">
            <MenuItem Header="File">
                <MenuItem Header="New" Click="NewMenuItem_Click" />
                <MenuItem Header="Open..." Click="OpenMenuItem_Click" />
                <MenuItem Header="Save..." Click="SaveMenuItem_Click" />
                <MenuItem Header="Preview" Click="PreviewMenuItem_Click" />
                <MenuItem Header="Edit Text" Click="EditTextMenuItem_Click" />
            </MenuItem>
            <MenuItem Header="Edit">
                <MenuItem Header="Insert Element" Click="InsertElementMenuItem_Click" />
                <MenuItem Header="Remove Element" Click="RemoveElementMenuItem_Click" />
                <Separator />
                <MenuItem Header="Undo" Click="UndoMenuItem_Click" />
                <MenuItem Header="Redo" Click="RedoMenuItem_Click" />
            </MenuItem>
        </Menu>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="3*" />
                <ColumnDefinition Width="2*" />
            </Grid.ColumnDefinitions>

            <TreeView x:Name="DocumentTree"
                      Grid.Column="0"
                      ItemsSource="{Binding Nodes}"
                      SelectionChanged="DocumentTree_OnSelectionChanged">
                <TreeView.ItemTemplate>
                    <TreeDataTemplate DataType="{x:Type local:SvgNode}"
                                      ItemsSource="{Binding Children}">
                        <TextBlock Text="{Binding Label}"/>
                    </TreeDataTemplate>
                </TreeView.ItemTemplate>
            </TreeView>
            <GridSplitter Grid.Column="0" Width="5" HorizontalAlignment="Right" VerticalAlignment="Stretch" />
            <svg:Svg x:Name="SvgView"
                     Grid.Column="1"
                     Stretch="Uniform"
                     PointerPressed="SvgView_OnPointerPressed"
                     PointerMoved="SvgView_OnPointerMoved"
                     PointerReleased="SvgView_OnPointerReleased" />
            <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Right" VerticalAlignment="Stretch" />

            <StackPanel Grid.Column="2" Margin="10">
                <dgrid:DataGrid x:Name="PropertiesGrid"
                                AutoGenerateColumns="False"
                                HeadersVisibility="None"
                                CanUserResizeColumns="False"
                                CanUserSortColumns="False"
                                ItemsSource="{Binding Properties}">
                    <dgrid:DataGrid.Columns>
                        <dgrid:DataGridTextColumn Header="Name" Binding="{Binding Name}" IsReadOnly="True" Width="*"/>
                        <dgrid:DataGridTextColumn Header="Value" Binding="{Binding Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="*"/>
                    </dgrid:DataGrid.Columns>
                </dgrid:DataGrid>

                <Button Content="Apply" Margin="0,10,0,0"
                        Click="ApplyButton_OnClick"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
